# =============================================================================
# Azure Container Apps - API Environment Variables
# =============================================================================
# Copy this file and configure for your Azure deployment
# These values are set in Azure Container Apps > Configuration > Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3333
API_PREFIX=api

# -----------------------------------------------------------------------------
# Database Connection (Neon Serverless Postgres - Recommended)
# -----------------------------------------------------------------------------
# Neon provides scale-to-zero, database branching, and built-in connection pooling
# Get your connection string from: Azure Portal > Neon > Connection Details
#
# Standard connection (for migrations):
DATABASE_URL=postgresql://user:password@ep-cool-name-123456.eastus2.azure.neon.tech/authdb?sslmode=require
#
# Pooled connection (for application - recommended for serverless):
# DATABASE_URL=postgresql://user:password@ep-cool-name-123456-pooler.eastus2.azure.neon.tech/authdb?sslmode=require
#
# Alternative: Azure Database for PostgreSQL Flexible Server
# DATABASE_URL=postgresql://adminuser:YourSecurePassword@your-server.postgres.database.azure.com:5432/authdb?sslmode=require

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# IMPORTANT: Use a strong, random secret (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters
JWT_EXPIRATION=1h

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# Use your Azure Container Apps FQDN for the web app
ALLOWED_ORIGINS=https://web.your-env.azurecontainerapps.io

# -----------------------------------------------------------------------------
# Azure-Specific Settings (Optional)
# -----------------------------------------------------------------------------
# Application Insights connection string for monitoring
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;IngestionEndpoint=xxx

# Azure Key Vault for secrets (if using managed identity)
# AZURE_KEY_VAULT_URL=https://your-vault.vault.azure.net/

# =============================================================================
# Security Checklist for Production:
# =============================================================================
# [ ] JWT_SECRET is at least 32 characters and randomly generated
# [ ] DATABASE_URL uses sslmode=require
# [ ] ALLOWED_ORIGINS only includes production domains
# [ ] No secrets are hardcoded in application code
# [ ] Database password is strong and unique
# [ ] Consider using Azure Key Vault for secrets management
# =============================================================================
